import{a as e,i as t,n,o as r,r as i,t as a}from"./zod-rTtXoRED.js";import{t as o}from"./useServerFn-GR5NKtah.js";import{C as s,_ as c,c as l,k as u,n as d,t as f,v as p,x as m,y as h}from"./main-CGKdk5hd.js";import"./input-DXd7649p.js";var g=u(s()),_=f({email:d().email(`Please enter a valid email address`),password:d().min(8,`Password must be at least 8 characters`)});function v(){let s=h({from:`/_auth/sign-up`}),u=p(),d=m(),f=o(l),v=t({resolver:a(_),defaultValues:{email:``,password:``}}),y=r({mutationFn:async e=>{await f({data:{...e,redirect:s.redirect}})},onSuccess:async()=>{await d.invalidate(),s.redirect&&u({to:s.redirect})},onError:async e=>{if(e?.status===302||e?.redirect||e?.message?.includes(`redirect`)){await d.invalidate(),s.redirect&&u({to:s.redirect});return}console.error(`Sign up error:`,e),v.setError(`root`,{message:e.message||`Failed to sign up`})}});return(0,g.jsxs)(e,{title:`Sign up`,description:`Enter your details to create a new account`,children:[(0,g.jsx)(i,{schema:_,defaultValues:{email:``,password:``},onSubmit:e=>y.mutate(e),submitText:`Sign up`,loadingText:`Signing up...`,isLoading:y.isPending,form:v,children:e=>(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(n,{control:e.control,name:`email`,label:`Email`,placeholder:`john@doe.com`,type:`email`}),(0,g.jsx)(n,{control:e.control,name:`password`,label:`Password`,placeholder:`Enter your password`,type:`password`})]})}),(0,g.jsxs)(`div`,{className:`text-center text-sm text-muted-foreground mt-4 space-x-1`,children:[(0,g.jsx)(`div`,{className:`inline-block`,children:`Already have an account? `}),(0,g.jsx)(`div`,{className:`inline-block`,children:(0,g.jsx)(c,{to:`/sign-in`,search:s.redirect?{redirect:s.redirect}:void 0,className:`font-medium text-primary underline-offset-4 hover:underline`,children:`Sign in`})})]})]})}export{v as component};
//# sourceMappingURL=sign-up-BcNC-wGR.js.map