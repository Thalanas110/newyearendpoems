{"version":3,"file":"auth-B1u2jsgB.mjs","sources":["../../../../../../../../src/server/functions/auth.ts?tsr-directive-use-server="],"names":["opts","signal","getAppwriteSessionFn.__executeServer","getAppwriteSessionFn","createServerFn","method","handler","session","getCookie","setAppwriteSessionCookiesFn.__executeServer","setAppwriteSessionCookiesFn","inputValidator","z","object","id","string","secret","data","setCookie","httpOnly","secure","sameSite","signUpInSchema","email","password","min","redirect","optional","signUpFn.__executeServer","signUpFn","redirectUrl","account","createAdminClient","create","userId","ID","unique","createEmailPasswordSession","$id","_error","error","setResponseStatus","code","message","status","to","signInFn.__executeServer","signInFn","signOutFn.__executeServer","signOutFn","deleteCookie","authMiddleware.__executeServer","authMiddleware","currentUser","getCurrentUser","getCurrentUser.__executeServer","createSessionClient","get"],"mappings":"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"}